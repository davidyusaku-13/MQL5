help me create a Metatrader5 EA
called DBxEMA.mq5

draw EMA 10(green color)
draw EMA 20(yellow color)
check D1 timeframe, save the previous day High and Low as variables called PrevHIGH and PrevLOW

input float called risk_percentage
input float called rr_ratio

non input variable called DIRECTION

now here is the condition
- use M5 timeframe
- make sure the trading day is the current day, using the range of the PrevHIGH and PrevLOW
- when the candle move above PrevHIGH and closes above it, wait a few candles for confirmation, if the next few bearish candles doesnt close below PrevHIGH(returning inside the range) AND the exact next candle after the few bearish candle is a bullish one, DIRECTION=LONG_BREAK ___the opposite applies for breaking PrevLOW, DIRECTION=SHORT_BREAK___
- when the candle move above PrevHIGH and closes above it, wait a few candles for confirmation, if the next few bearish candles close below PrevHIGH(going back inside the range), DIRECTION=SHORT_REJECT ___the opposite applies for returning inside PrevLOW, DIRECTION=LONG_REJECT___
- check the DIRECTION logic on every tick
- if DIRECTION has BREAK, we need to keep monitoring the resting/consolidation LOW/HIGH and save it into variables called BreakRestingHIGH/BreakRestingLOW (these will be used as SL value)
- if DIRECTION has REJECT, we need to save the High/Low from the highest/lowest candle that closes above/below the range and save it into variables called RejectBreakHIGH/RejectBreakLOW (these will be used as SL value)
- if DIRECTION has REJECT, we still need to monitor the resting/consolidation LOW/HIGH and save it into variables called RejectRestingHIGH/RejectRestingLOW (these will be used as SL value)
- LONG/SHORT trades will be executed as soon as DIRECTION changes ONLY IF the EMA10 and EMA20 not closely sticking to each other, both EMA needs to be well separated
- lock the SL at the corresponding saved variables
--- for LONG_BREAK the SL could be PrevHIGH or BreakRestingLOW
--- for SHORT_BREAK the SL could be PrevLOW or BreakRestingHIGH
--- for LONG_REJECT the SL could be RejectBreakLOW or RejectRestingLOW or even PrevLOW if the candle hasnt moved too far from the PrevLOW
--- for SHORT_REJECT the SL could be RejectBreakHIGH or RejectRestingHIGH or even PrevHIGH if the candle hasnt moved too far from the PrevHIGH

- risk_percentage will decide the lot size, for example with $5000 balance and 1% risk_percentage, it will risk $50 on the stop loss
- rr_ratio will decide the take profit, for example with stop loss of $50 and using rr_ratio of 2 will put the take profit in $100